<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>EPShare Rides</title>
  <link href="./bulma.min.css" rel="stylesheet" type="text/css" />
  <link href="./style.css" rel="stylesheet" type="text/css" />
  <script src="https://kit.fontawesome.com/16ae8e710d.js" crossorigin="anonymous"></script>
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <main>
    <section class="hero is-fullheight" id="hero">
      <div class="hero-head">
        <header class="navbar">
          <div class="container">
            <div class="navbar-brand">
              <a class="navbar-item">
                <img src="EPS Logo - Transparent-4.png" alt="Logo">
                <h1 class="title is-3" style="margin-left: 10px">EPShare Rides</h1>
              </a>
              <div class="navbar-item" style="padding: 0.5rem 0.75rem;">
                <button class="button is-info is-light" onclick="showDisclaimer()">
                  <span class="icon">
                    <i class="fas fa-info-circle"></i>
                  </span>
                </button>
              </div>
              <span class="navbar-burger" data-target="navbarMenuHeroC" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
              </span>
            </div>
            <div id="navbarMenuHeroC" class="navbar-menu ">
              <div class="navbar-end">
                <div class="is-button is-link">
                  <div class="navbar-item">
                    <span style="font-size: 1em; color: #30B700; float: right">
                      <a class="fa-solid fa-leaf" href="/sustainabilityStatement" style="color: #30B700"></a>
                    </span>
                    <div class="buttons" style="margin: 10px;margin-right: 0px;">
                      <a class="button is-link is-outlined " href="/logout">
                        Log out
                      </a>
                      <div class="navbar-item has-dropdown is-hoverable "
                        onclick="document.getElementById('navbar-dropdown').style.visibility = 'visible';">
                        <a class="button is-link" id="name_button"
                          style="background: linear-gradient(105deg, #3273DC, #275CBF);">
                          <%= firstName %>
                            <%= lastName %>
                              <i style="margin-left: 5px;" class="fas fa-angle-down" aria-hidden="true"></i>
                        </a>
                        <div id="filler"
                          style="width: 130px; background-color: transparent; height: 20px; position: absolute; margin-top: -15px;">
                        </div>
                        <div class="navbar-dropdown" id="navbar-dropdown">
                          <a class="navbar-item" href="/updateSettings">
                            Update settings
                          </a>
                          <a class="navbar-item" href="https://forms.office.com/r/deCSjA7bCR">
                            Report a bug
                          </a>
                          <a class="navbar-item" href="/sustainabilityStatement">
                            Sustainability statement
                          </a>
                          <hr class="navbar-divider">
                          <div class="navbar-item">
                            Version <%= process.env.VERSION %>
                          </div>
                        </div>
                      </div>
                      </nav>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </header>
      </div>


      <section class="hero is-fullheight">
        <!-- Hero head: will stick at the top -->



        <!-- Hero content: will be in the middle -->
        <div class="hero-body" style="">
          <div class="container has-text-centered vertical-center" id="updatesettings">

            <h1 class="title is-3 " style="margin-top: 5px; margin-bottom: 30px">Settings</h1>

            <p class="subtitle is-6" style=" width: 100%; margin-bottom: 0px; text-align: left"><strong>Privacy</strong>
            </p>
            <div class="container" style="margin-top: 10px;margin-bottom: 30px">

              <p style="display: inline-block; font-size: 17px; transform: translate(0px,2px); float: left">Don't show
                my account to other EPS students</p>
              <input class="switch-input" type="checkbox" id="switch"><label class="switch-label"
                style="display: inline-block; margin-left: 5px; float:right" for="switch" checked="false">Toggle</label>
            </div>

            <div class="container" style="margin-bottom: 30px;margin-top: 10px">
              <p class="subtitle is-6" style=" width: 100%;  text-align: left; margin-bottom: 10px"><strong>Contact Information</strong></p>
              <div class="field" style="margin-bottom: 10px;">
                <input class="input" type="tel" id="phone" placeholder="Phone number">
              </div>
              <div class="field">
                <input class="input" type="email" id="email" placeholder="Email" value="<%= email %>" disabled>
              </div>
            </div>

            <div class="container" style="margin-bottom: 30px;margin-top: 10px">
              <p class="subtitle is-6" style="width: 100%; text-align: left; margin-bottom: 10px"><strong>Save my
                  address</strong></p>
              <div class="autocomplete-container" id="">
                <div class='control' id="autocomplete-container">
                </div>
              </div>
            </div>

            <!-- CO2 Savings Section -->
            <div class="container" style="margin-bottom: 30px; margin-top: 20px; border-top: 1px solid #eee; padding-top: 20px;">
              <p class="subtitle is-6" style="width: 100%; text-align: left; margin-bottom: 15px">
                <strong>Your Environmental Impact</strong>
              </p>
              <div class="box" style="background-color: #f5f5f5; border-radius: 8px; padding: 15px;">
                <div class="columns is-vcentered">
                  <div class="column is-narrow">
                    <span class="icon is-large has-text-success">
                      <i class="fas fa-leaf fa-2x"></i>
                    </span>
                  </div>
                  <div class="column">
                    <p class="has-text-weight-semibold" id="totalCO2Savings">Loading your CO₂ savings...</p>
                    <p class="help">Total CO₂ emissions saved by carpooling</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="buttons">
              <div onclick="update()" class="button is-link"
                style="background: linear-gradient(105deg, #3273DC, #275CBF);">
                Update
              </div>
              <div class="button" onclick="window.location.href = '/'">
                Cancel
              </div>
            </div>
          </div>
        </div>
      </section>
  </main>

  <div class="modal" id="disclaimer-modal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <section class="modal-card-body">
        <p class="has-text-centered is-size-5">This is an app maintained by Eastside Prep's Hack Club, a group of Upper School students that meet every Thursday at 11:05 pm in TMAC-007. Please email Hack Club Co-President Anmol Singh Josan, ajosan@eastsideprep.org, if you have any questions.</p>
        <br>
        <p class="has-text-centered is-size-5">Eastside Preparatory School does not mandate or encourage the use of this application. They do not claim any responsibility for the maintenance, upkeep, and development of this application. This is entirely student-run.</p>
      </section>
      <footer class="modal-card-foot">
        <button class="button is-info" onclick="closeDisclaimer()">Close</button>
      </footer>
    </div>
  </div>
  <script src="/updateSettings.js"></script>
</body>
</html>
