<!DOCTYPE html>
<html lang="en" id="head">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>EPCarpool</title>
  <link href="./bulma.min.css" rel="stylesheet" type="text/css" />
  <link href="./style.css" rel="stylesheet" type="text/css" />
  <script src="https://kit.fontawesome.com/16ae8e710d.js" crossorigin="anonymous"></script>
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="./style.css">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <script src="/co2Tracker.js"></script>
</head>

<body>
  <main>
    <section class="hero is-fullheight">
      <!-- Hero head: will stick at the top -->
      <div class="hero-head">
        <header class="navbar">
          <div class="container">
            <div class="navbar-brand">
              <a class="navbar-item">
                <div style="position: relative; display: flex; align-items: center;">
                  <img src="EPS Logo - Transparent-4.png" alt="Logo">
                  <h1 class="title is-3" style="margin-left: 10px; margin-bottom: -10px">EPCarpool</h1>
                  <span
                    style="position: absolute; top: -5px; right: -25px; background: #3273DC; color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.7em; font-weight: bold;">BETA</span>
                </div>
              </a>
              <div class="navbar-item" style="padding: 0.5rem 1.25rem;">
                <button class="button is-info is-light" onclick="showDisclaimer()">
                  <span class="icon">
                    <i class="fas fa-info-circle"></i>
                  </span>
                </button>
              </div>
              <span class="navbar-burger" data-target="navbarMenuHeroC" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
              </span>
            </div>
            <div id="navbarMenuHeroC" class="navbar-menu ">
              <div class="navbar-end">
                <div class="is-button is-link">
                  <div class="navbar-item">
                    <span style="font-size: 1em; color: #30B700; float: right; display: flex; align-items: center; margin-right: 15px;">
                      <a class="fa-solid fa-leaf" href="/sustainabilityStatement" style="color: #30B700; margin-right: 10px;"></a>

                      <span>
                        <span id="co2-savings" style="font-size: 0.9em; font-weight: bold;">0 kg COâ‚‚ saved</span>
                        <span id="co2-equivalents" class="co2-equivalents"></span>

                      </span>
                    </span>
                    <div class="buttons" style="margin: 10px;margin-right: 0px;">
                      <a class="button is-link is-outlined " href="/logout">
                        Log out
                      </a>
                      <div class="navbar-item has-dropdown is-hoverable "
                        onclick="document.getElementById('navbar-dropdown').style.visibility = 'visible';">
                        <a class="button is-link" id="name_button"
                          style="background: linear-gradient(105deg, #3273DC, #275CBF);">
                          <%= firstName %>
                            <%= lastName %>
                              <i style="margin-left: 5px;" class="fas fa-angle-down" aria-hidden="true"></i>
                        </a>
                        <div id="filler"
                          style="width: 130px; background-color: transparent; height: 20px; position: absolute; margin-top: -15px;">
                        </div>
                        <div class="navbar-dropdown" id="navbar-dropdown">
                          <a class="navbar-item" href="/updateSettings">
                            Update settings
                          </a>
                          <a class="navbar-item" href="https://forms.office.com/r/deCSjA7bCR">
                            Report a bug
                          </a>
                          <a class="navbar-item" href="/sustainabilityStatement">
                            Sustainability statement
                          </a>
                          <hr class="navbar-divider">
                          <div class="navbar-item">
                            Version <%= process.env.VERSION %>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </header>
      </div>
      <!-- Hero content: will be in the middle -->
      <div class="hero-body" style="padding-bottom: 80px;">
        <div class="container" style="margin-top: 0px; width: 100%; ">
          <div id="create_event" style="margin-bottom: 0px">
          </div>
          <div class=" " style="position: absolute; margin-top: -40px;  width: 100%; ">
            <label for="filter">Filter by: </label>
            <select name="filter" id="filter">
              <option value="all">All</option>
              <option value="sports">Sports</option>
              <option value="academic teams">Academic teams</option>
              <option value="socials">Socials</option>
              <option value="other">Other</option>
            </select>

            <span id="createEventButton">
              <button id="buttonzx" style="
      padding: 5px 7px;
      background-color: #f5f5f5;
      border: 1px solid #ddd;
      border-radius: 6px;
      color: #333;
      font-size: 13px;
      cursor: pointer;
      margin-left: 3px;
      " onclick="var create_event = document.getElementById('create_event'); create_event.style.marginBottom='60px'; create_event.innerHTML = `<form class='box' style='margin-top: -20px'><div class='modal-card-head' style='padding: 0px;margin-bottom: 20px;background-color: white;border: none;'>
        <div class='modal-card-title'>Create Event</div>
    <button class='delete' aria-label='close' onclick='var create_event = document.getElementById(\'create_event\'); create_event.style.marginBottom=\'50px\'; create_event.innerHTML = \'\''></button>
    </div>
    <div class='field'>
      <label class='label' for='ename'>Event name:</label>
      <div class='control'>
        <input class='input' type='text' id='ename' name='name'>
      </div>
    </div>
    <div class='field'>
      <label class='label' for='elocation'>Location name:</label>
      <div class='control'>
        <input class='input' type='text' id='elocation' name='location'>
      </div>
    </div>
    <div class='field'>
      <label class='label' for='address'>Address:</label>
      <div class='autocomplete-container ' id=''>
            <div class='control' id='autocomplete-container3'>
              <!-- South Kirkland Park and Ride, Bellevue, WA 98004, United States of America -->
            </div>
          </div>
    </div>
    <div class='field'>
      <label class='label' for='edate'>Date and time:</label>
      <div class='control'>
        <input class='input' type='datetime-local' id='edate' name='date'>
      </div>
    </div>
    <div class='field'>
      <label class='label' for='ecategory'>Category:</label>
      <div class='control'>
        <div class='select'>
          <select id='ecategory' name='category'>
            <option value='sports'>Sports</option>
            <option value='academic teams'>Academic teams</option>
            <option value='socials'>Socials</option>
            <option value='other'>Other</option>
          </select>
        </div>
      </div>
    </div>
    <div class='field'>
      <label class='label'>Map Preview:</label>
      <div id='map' style='height: 300px; width: 100%; border-radius: 4px; margin-bottom: 1rem;'></div>
    </div>
    <div class='field'>
      <div class='control'>
        <div class='button is-link' type='button' onclick='createevent();'>Submit</div>
      </div>
    </div>
  </form>`; createEventInputs()">
    Create event
  </button>
</span>
          </div>
          <!--Start here  -->
          <div id="eventsJS">
          </div>
        </div>
      </div>

      <!-- Hero footer: will stick at the bottom -->
      <div class="hero-foot">
        <nav class="tabs is-boxed is-fullwidth">
          <div class="container">
            <ul>
              <li class="is-active"><a href="/" class="is-active1">Upcoming Events</a></li>
              <li><a href="/mycarpools" class="white">My Carpools</a></li>
            </ul>
          </div>
        </nav>
      </div>
    </section>
  </main>
  <div class="modal " id="modal-js-example">
    <div class="modal-background" style="background-color: rgba(10,10,10,.50)"></div>
    <div class="modal-card">
      <p class="panel-heading has-text-centered" style="padding: 15px; padding-left: 20px; display: table">
        <span style=" display: table-cell;vertical-align: middle; text-align: center; position:absolute">
          <i class="fa-solid fa-car-side" style='float:left; transform:translate(0px,5px)'></i>
        </span>
        Offer to Carpool
        <button class="delete" aria-label="close" onclick="closeAllModals()" style="float: right"></button>
      </p>
      <section class="modal-card-body">
        <div class="container">
          <label>Carpool information </label>
          <div class="field">
            <a class="panel-block" id="carpoolinfo" style="border-radius: 5px; padding:0px;">
              <input style="margin-right: 10px; " id="fname" class="input" type="fname" placeholder="Driver first name">
              <input id="lname" class="input" type="lname" placeholder="Driver last name">
            </a>
          </div>
          <div class="field">
            <a class="panel-block" style="border-radius: 5px; padding:0px;">
              <input style="margin-right: 10px;" id="email" class="input" type="email" placeholder="Driver email">
              <input id="phone" class="input" type="tel" placeholder="Driver phone number">
            </a>
          </div>
          <div class="field" style="margin-bottom: 10px;">
            <input class="input" id="carmake" type="text" placeholder="Car make and model">
          </div>
          <div class="field" style="margin-bottom: 10px;">
            <input class="input" id="seats" type="number" min="1" max="9" placeholder="Number of available car seats">
          </div>
          <div style="display: flex; gap: 10px;">
            <div>
              <label>Pickup Location </label>
              <div class="field" style="margin-bottom: 10px;">
                <div class="control">
                  <div class="select">
                    <form>
                      <select id="route-type">
                        <option value="route">Riders' Homes</option>
                        <option value="point">Common meeting point</option>
                        <option value="eps-campus">EPS Campus</option>
                      </select>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <label>Arrival time</label>
              <div class="field" style="margin-bottom: 10px;">
                <input class="input" id="arrivaltime" type="time" placeholder="Time to arrive">
              </div>
            </div>
            <div>
              <label>Carpool category</label>
              <div class="field" style="margin-bottom: 10px;">
                <div class="control">
                  <div class="select">
                    <select id="carpool-category">
                      <option value="sports">Sports</option>
                      <option value="academic">Academic</option>
                      <option value="social">Social</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="field">
            <label id="address-label">Your home address</label>
            <div class="autocomplete-container" id="">
              <div class="control" id="autocomplete-container">
                <div class="clear-button"></div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <footer class="modal-card-foot" style="background-color: white; border-width: 1px; padding: 10px; ">
        <div class="buttons" style="margin-left: 0px;">
          <button class="button is-link " style="background: linear-gradient(105deg, #3273DC, #275CBF);"
            onclick="offer();window.location.href='/mycarpools'">Create carpool</button>
          <button class="button" aria-label="close" onclick="closeAllModals()">Cancel</button>
        </div>
      </footer>
    </div>
  </div>
  <!-- end here -->
  <!-- start here -->
  <div class="modal " id="modal-js-register">
    <div class="modal-background" style="background-color: rgba(10,10,10,.50)"></div>
    <div class="modal-card">
      <p class="panel-heading has-text-centered" style="padding: 15px; display: table;padding-left: 20px">
        <span style=" display: table-cell;vertical-align: middle; text-align: center;">
          <i class="fa-solid fa-users" style='float:left; position: absolute; transform: translate(0px, -10px)'></i>
        </span>
        Register to a Carpool
        <button class="delete" aria-label="close" onclick="closeAllModals()" style="float: right"></button>
      </p>
      <section class="modal-card-body">
        <div class="container">
          <label id="registerTitle"></label>

          <div style="overflow: auto;">
            <div id="registerJS">
              <!-- <div class="notification" style="padding: 10px;   margin-bottom: 10px;">
                           <div class="button  selectCarpool" style=" margin-left: 10px; margin-top: 4px; background-color: transparent; float: right" onclick=" if (this.classList[2] == 'is-focused') {unfocus()} else {unfocus(); this.classList.add('is-focused')}">Select</div>
                                   <div style="float: right; margin-top: 3px;"  >2/6 signed up</div>
                                                             Organizer: <a style="color: #3273dc" href="mailto:ajosan@eastsideprep.org">ajosan@eastsideprep.org</a>
                                     <br>  Route type: Riders' Homes
                           <br> 
                                 </div>    -->
            </div>
          </div>
        </div>
        <div class="field">
          <label>Your home address </label>
          <div class="autocomplete-container " id="">
            <div class='control' id="autocomplete-container2">
              <!-- South Kirkland Park and Ride, Bellevue, WA 98004, United States of America -->
            </div>
          </div>
        </div>
      </section>
      <footer class="modal-card-foot" style="background-color: white; border-width: 1px; padding: 10px; ">
        <var></var>
        <div class="buttons" style="margin-left: 0px;">
          <button class="button is-link " style="background: linear-gradient(105deg, #3273DC, #275CBF);"
            onclick="joinCarpool(); window.location.href='/mycarpools'">Join carpool</button>
          <button class="button" aria-label="close" onclick="closeAllModals()">Cancel</button>
        </div>
      </footer>
    </div>
  </div>
  <!-- end here -->
  <script src="/js/address.js"></script>
            </span>
          </div>
          <!--Start here  -->
          <div id="eventsJS">
          </div>
        </div>
      </div>

      <!-- Hero footer: will stick at the bottom -->
      <div class="hero-foot">
        <nav class="tabs is-boxed is-fullwidth">
          <div class="container">
            <ul>
              <li class="is-active"><a href="/" class="is-active1">Upcoming Events</a></li>
              <li><a href="/mycarpools" class="white">My Carpools</a></li>
              <li><a href="/findrides" class="white">Find Rides</a></li>
            </ul>
          </div>
        </nav>
      </div>
    </section>
  </main>
  <div class="modal " id="modal-js-example">
    <div class="modal-background" style="background-color: rgba(10,10,10,.50)"></div>
    <div class="modal-card">
      <p class="panel-heading has-text-centered" style="padding: 15px; padding-left: 20px; display: table">
        <span style=" display: table-cell;vertical-align: middle; text-align: center; position:absolute">
          <i class="fa-solid fa-car-side" style='float:left; transform:translate(0px,5px)'></i>
        </span>
        Offer to Carpool
        <button class="delete" aria-label="close" onclick="closeAllModals()" style="float: right"></button>
      </p>
      <section class="modal-card-body">
        <div class="container">
          <label>Carpool information </label>
          <div class="field">
            <a class="panel-block" id="carpoolinfo" style="border-radius: 5px; padding:0px;">
              <input style="margin-right: 10px; " id="fname" class="input" type="fname" placeholder="Driver first name">
              <input id="lname" class="input" type="lname" placeholder="Driver last name">
            </a>
          </div>
          <div class="field">
            <a class="panel-block" style="border-radius: 5px; padding:0px;">
              <input style="margin-right: 10px;" id="email" class="input" type="email" placeholder="Driver email">
              <input id="phone" class="input" type="tel" placeholder="Driver phone number">
            </a>
          </div>
          <div class="field" style="margin-bottom: 10px;">
            <input class="input" id="carmake" type="text" placeholder="Car make and model">
          </div>
          <div class="field" style="margin-bottom: 10px;">
            <input class="input" id="seats" type="number" min="1" max="9" placeholder="Number of available car seats">
          </div>
          <div style="display: flex; gap: 10px;">
            <div>
              <label>Pickup Location </label>
              <div class="field" style="margin-bottom: 10px;">
                <div class="control">
                  <div class="select">
                    <form>
                      <select id="route-type">
                        <option value="route">Riders' Homes</option>
                        <option value="point">Common meeting point</option>
                        <option value="eps-campus">EPS Campus</option>
                      </select>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <label>Arrival time</label>
              <div class="field" style="margin-bottom: 10px;">
                <input class="input" id="arrivaltime" type="time" placeholder="Time to arrive">
              </div>
            </div>
          </div>
          <div class="field">
            <label id="address-label">Your home address</label>
            <div class="autocomplete-container" id="">
              <div class="control" id="autocomplete-container">
                <div class="clear-button"></div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <footer class="modal-card-foot" style="background-color: white; border-width: 1px; padding: 10px; ">
        <div class="buttons" style="margin-left: 0px;">
          <button class="button is-link " style="background: linear-gradient(105deg, #3273DC, #275CBF);"
            onclick="offer();window.location.href='/mycarpools'">Create carpool</button>
          <button class="button" aria-label="close" onclick="closeAllModals()">Cancel</button>
        </div>
      </footer>
    </div>
  </div>
  <!-- end here -->
  <!-- start here -->
  <div class="modal " id="modal-js-register">
    <div class="modal-background" style="background-color: rgba(10,10,10,.50)"></div>
    <div class="modal-card">
      <p class="panel-heading has-text-centered" style="padding: 15px; display: table;padding-left: 20px">
        <span style=" display: table-cell;vertical-align: middle; text-align: center;">
          <i class="fa-solid fa-users" style='float:left; position: absolute; transform: translate(0px, -10px)'></i>
        </span>
        Register to a Carpool
        <button class="delete" aria-label="close" onclick="closeAllModals()" style="float: right"></button>
      </p>
      <section class="modal-card-body">
        <div class="container">
          <label id="registerTitle"></label>

          <div style="overflow: auto;">
            <div id="registerJS">
              <!-- <div class="notification" style="padding: 10px;   margin-bottom: 10px;">
                           <div class="button  selectCarpool" style=" margin-left: 10px; margin-top: 4px; background-color: transparent; float: right" onclick=" if (this.classList[2] == 'is-focused') {unfocus()} else {unfocus(); this.classList.add('is-focused')}">Select</div>
                                   <div style="float: right; margin-top: 3px;"  >2/6 signed up</div>
                                                             Organizer: <a style="color: #3273dc" href="mailto:ajosan@eastsideprep.org">ajosan@eastsideprep.org</a>
                                     <br>  Route type: Riders' Homes
                           <br> 
                                 </div>    -->
            </div>
          </div>
        </div>
        <div class="field">
          <label>Your home address </label>
          <div class="autocomplete-container " id="">
            <div class='control' id="autocomplete-container2">
              <!-- South Kirkland Park and Ride, Bellevue, WA 98004, United States of America -->
            </div>
          </div>
        </div>
      </section>
      <footer class="modal-card-foot" style="background-color: white; border-width: 1px; padding: 10px; ">
        <var></var>
        <div class="buttons" style="margin-left: 0px;">
          <button class="button is-link " style="background: linear-gradient(105deg, #3273DC, #275CBF);"
            onclick="joinCarpool(); window.location.href='/mycarpools'">Join carpool</button>
          <button class="button" aria-label="close" onclick="closeAllModals()">Cancel</button>
        </div>
      </footer>
    </div>
  </div>
  <script src="/index.js"></script>
  <div class="modal" id="disclaimer-modal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <section class="modal-card-body" style="border-radius: 6px 6px 0px 0px">
        <p class="has-text-centered is-size-5">This is an app maintained by Eastside Prep's Hack Club, a group of Upper
          School students that meet every Thursday at 11:05 pm in TMAC-007. Please email Hack Club Co-President Anmol
          Singh Josan, ajosan@eastsideprep.org, if you have any questions.</p>
        <br>
        <p class="has-text-centered is-size-5">Eastside Preparatory School does not mandate or encourage the use of this
          application. They do not claim any responsibility for the maintenance, upkeep, and development of this
          application. This is entirely student-run.</p>
        <br>
        <p class="has-text-centered is-size-5">All credit goes to the original development team: Anmol, Ari, Nikhil,
          Praneel, and Angad.</p>
      </section>
      <footer class="modal-card-foot">
         <div class="buttons">
            <div class="button center is-link" onclick="closeDisclaimer()"
              style="background: linear-gradient(105deg, #3273DC, #275CBF); margin-top: 20px; margin-bottom: -20px">Close</div>
          </div>
      </footer>
    </div>
  </div>  
  <!-- CO2 Tracking Scripts -->
  <script src="/js/co2Utils.js"></script>
  <script src="/js/disclaimer.js"></script>
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <script src="/script.js"></script>
</body>

</html>
